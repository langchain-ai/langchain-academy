# Dynamic breakpoints 

## Review
人間が関与する理由について説明しました:

(1) `承認` - エージェントを中断して、ユーザーに状態を表示し、ユーザーがアクションを受け入れることができるようにします

(2) `デバッグ` - グラフを巻き戻して問題を再現または回避できます

(3) `編集` - 状態を変更できます

ブレークポイントは、グラフを特定のステップで停止する一般的な方法として説明しました。これにより、`承認` などのユースケースが可能になります

また、グラフの状態を編集し、人間によるフィードバックを導入する方法も説明しました。

## Goals

ブレークポイントは、グラフのコンパイル中に開発者によって特定のノードに設定されます。

ただし、グラフが **動的に中断** できるようにすると便利な場合があります。

これは内部ブレークポイントであり、[`NodeInterrupt` を使用して実現できます](https://langchain-ai.github.io/langgraph/how-tos/human_in_the_loop/dynamic_breakpoints/#run-the-graph-with-dynamic-interrupt)。

これにはいくつかの具体的な利点があります:

(1) 条件付きで実行できます (開発者が定義したロジックに基づいてノード内から)。

(2) 中断された理由をユーザーに伝えることができます (`NodeInterrupt` に任意のものを渡すことによって)。

入力の長さに基づいて `NodeInterrupt` がスローされるグラフを作成しましょう。


5 文字を超える入力でグラフを実行してみましょう。

この時点でグラフの状態を検査すると、ノードは次に実行されるように設定されます (step_2)。

`Interrupt` がStateに記録されていることがわかります。

ブレークポイントからグラフを再開することができます。
ただし、これは同じノードを再実行するだけです!
状態が変更されない限り、ここで行き詰まってしまいます。

これで、状態を更新できます。

### Usage with LangGraph API

--

**⚠️ 免責事項**

*Studio を実行するには、現在 Mac が必要です。Mac を使用していない場合は、この手順をスキップしてください。*

*また、このノートブックを CoLab で実行している場合は、この手順をスキップしてください。*

--

上記のグラフは、`module-3/studio/dynamic_breakpoints.py` を使用して Studio で実行できます。

SDK 経由で接続します。
